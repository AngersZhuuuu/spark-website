<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Tue Sep 08 16:00:14 PDT 2015 -->
<title>RandomSamplerSuite</title>
<meta name="date" content="2015-09-08">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RandomSamplerSuite";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/spark/util/random/RandomSampler.html" title="interface in org.apache.spark.util.random"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/spark/util/random/SamplingUtilsSuite.html" title="class in org.apache.spark.util.random"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/spark/util/random/RandomSamplerSuite.html" target="_top">Frames</a></li>
<li><a href="RandomSamplerSuite.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.spark.util.random</div>
<h2 title="Class RandomSamplerSuite" class="title">Class RandomSamplerSuite</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.spark.SparkFunSuite</li>
<li>
<ul class="inheritance">
<li>org.apache.spark.util.random.RandomSamplerSuite</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">RandomSamplerSuite</span>
extends org.apache.spark.SparkFunSuite</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/spark/util/random/RandomSamplerSuite.html#RandomSamplerSuite()">RandomSamplerSuite</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>scala.Tuple2&lt;double[],double[]&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/util/random/RandomSamplerSuite.html#cumulants(int[], int[], int)">cumulants</a></strong>(int[]&nbsp;d1,
         int[]&nbsp;d2,
         int&nbsp;ss)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/util/random/RandomSamplerSuite.html#cumulativeDist(int[])">cumulativeDist</a></strong>(int[]&nbsp;hist)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/util/random/RandomSamplerSuite.html#D()">D</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>scala.collection.Iterator&lt;java.lang.Object&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/util/random/RandomSamplerSuite.html#gaps(scala.collection.Iterator)">gaps</a></strong>(scala.collection.Iterator&lt;java.lang.Object&gt;&nbsp;data)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/util/random/RandomSamplerSuite.html#KSD(double[], double[])">KSD</a></strong>(double[]&nbsp;cdf1,
   double[]&nbsp;cdf2)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/util/random/RandomSamplerSuite.html#medianKSD(scala.Function0, scala.Function0, int)">medianKSD</a></strong>(scala.Function0&lt;scala.collection.Iterator&lt;java.lang.Object&gt;&gt;&nbsp;data1,
         scala.Function0&lt;scala.collection.Iterator&lt;java.lang.Object&gt;&gt;&nbsp;data2,
         int&nbsp;m)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Random</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/util/random/RandomSamplerSuite.html#rngSeed()">rngSeed</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;scala.collection.Iterator&lt;T&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/util/random/RandomSamplerSuite.html#sample(scala.collection.Iterator, double)">sample</a></strong>(scala.collection.Iterator&lt;T&gt;&nbsp;data,
      double&nbsp;f)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/util/random/RandomSamplerSuite.html#sampleSize()">sampleSize</a></strong>()</code>
<div class="block">My statistical testing methodology is to run a Kolmogorov-Smirnov (KS) test
 between the random samplers and simple reference samplers (known to work correctly).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;scala.collection.Iterator&lt;T&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/spark/util/random/RandomSamplerSuite.html#sampleWR(scala.collection.Iterator, double)">sampleWR</a></strong>(scala.collection.Iterator&lt;T&gt;&nbsp;data,
        double&nbsp;f)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RandomSamplerSuite()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RandomSamplerSuite</h4>
<pre>public&nbsp;RandomSamplerSuite()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="sampleSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sampleSize</h4>
<pre>public&nbsp;int&nbsp;sampleSize()</pre>
<div class="block">My statistical testing methodology is to run a Kolmogorov-Smirnov (KS) test
 between the random samplers and simple reference samplers (known to work correctly).
 The sampling gap sizes between chosen samples should show up as having the same
 distributions between test and reference, if things are working properly.  That is,
 the KS test will fail to strongly reject the null hypothesis that the distributions of
 sampling gaps are the same.
 There are no actual KS tests implemented for scala (that I can find) - and so what I
 have done here is pre-compute "D" - the KS statistic - that corresponds to a "weak"
 p-value for a particular sample size.  I can then test that my measured KS stats
 are less than D.  Computing D-values is easy, and implemented below.
 <p>
 I used the scipy 'kstwobign' distribution to pre-compute my D value:
 <p>
 def ksdval(q=0.1, n=1000):
     en = np.sqrt(float(n) / 2.0)
     return stats.kstwobign.isf(float(q)) / (en + 0.12 + 0.11 / en)
 <p>
 When comparing KS stats I take the median of a small number of independent test runs
 to compensate for the issue that any sampled statistic will show "false positive" with
 some probability.  Even when two distributions are the same, they will register as
 different 10% of the time at a p-value of 0.1</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>(undocumented)</dd></dl>
</li>
</ul>
<a name="D()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>D</h4>
<pre>public&nbsp;double&nbsp;D()</pre>
</li>
</ul>
<a name="rngSeed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rngSeed</h4>
<pre>public&nbsp;java.util.Random&nbsp;rngSeed()</pre>
</li>
</ul>
<a name="sample(scala.collection.Iterator, double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sample</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;scala.collection.Iterator&lt;T&gt;&nbsp;sample(scala.collection.Iterator&lt;T&gt;&nbsp;data,
                                      double&nbsp;f)</pre>
</li>
</ul>
<a name="sampleWR(scala.collection.Iterator, double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sampleWR</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;scala.collection.Iterator&lt;T&gt;&nbsp;sampleWR(scala.collection.Iterator&lt;T&gt;&nbsp;data,
                                        double&nbsp;f)</pre>
</li>
</ul>
<a name="gaps(scala.collection.Iterator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gaps</h4>
<pre>public&nbsp;scala.collection.Iterator&lt;java.lang.Object&gt;&nbsp;gaps(scala.collection.Iterator&lt;java.lang.Object&gt;&nbsp;data)</pre>
</li>
</ul>
<a name="cumulativeDist(int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cumulativeDist</h4>
<pre>public&nbsp;double[]&nbsp;cumulativeDist(int[]&nbsp;hist)</pre>
</li>
</ul>
<a name="cumulants(int[], int[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cumulants</h4>
<pre>public&nbsp;scala.Tuple2&lt;double[],double[]&gt;&nbsp;cumulants(int[]&nbsp;d1,
                                        int[]&nbsp;d2,
                                        int&nbsp;ss)</pre>
</li>
</ul>
<a name="KSD(double[], double[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KSD</h4>
<pre>public&nbsp;double&nbsp;KSD(double[]&nbsp;cdf1,
         double[]&nbsp;cdf2)</pre>
</li>
</ul>
<a name="medianKSD(scala.Function0, scala.Function0, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>medianKSD</h4>
<pre>public&nbsp;double&nbsp;medianKSD(scala.Function0&lt;scala.collection.Iterator&lt;java.lang.Object&gt;&gt;&nbsp;data1,
               scala.Function0&lt;scala.collection.Iterator&lt;java.lang.Object&gt;&gt;&nbsp;data2,
               int&nbsp;m)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/spark/util/random/RandomSampler.html" title="interface in org.apache.spark.util.random"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/spark/util/random/SamplingUtilsSuite.html" title="class in org.apache.spark.util.random"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/spark/util/random/RandomSamplerSuite.html" target="_top">Frames</a></li>
<li><a href="RandomSamplerSuite.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<script defer="defer" type="text/javascript" src="../../../../../lib/jquery.js"></script><script defer="defer" type="text/javascript" src="../../../../../lib/api-javadocs.js"></script><script defer="defer" type="text/javascript" src="../../../../../lib/jquery.js"></script><script defer="defer" type="text/javascript" src="../../../../../lib/api-javadocs.js"></script></body>
</html>
